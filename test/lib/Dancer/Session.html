<html><head><title>Dancer::Session</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.22,
  using Pod::Simple::PullParser v3.22,
  under Perl v5.014001 at Sun Jun 24 19:07:14 2012 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#USAGE'>USAGE</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Configuration'>Configuration</a>
    <li class='indexItem indexItem2'><a href='#Route_Handlers'>Route Handlers</a>
  </ul>
  <li class='indexItem indexItem1'><a href='#SUPPORTED_ENGINES'>SUPPORTED ENGINES</a>
  <li class='indexItem indexItem1'><a href='#DEPENDENCY'>DEPENDENCY</a>
  <li class='indexItem indexItem1'><a href='#AUTHORS'>AUTHORS</a>
  <li class='indexItem indexItem1'><a href='#LICENSE'>LICENSE</a>
  <li class='indexItem indexItem1'><a href='#SEE_ALSO'>SEE ALSO</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Dancer::Session - session engine for the Dancer framework</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This module provides support for server-side sessions for the <a href="../../Dancer.html" class="podlinkpod"
>Dancer</a> web framework.
The session is accessible to the user via an abstraction layer implemented by the <a href="../../Dancer/Session.html" class="podlinkpod"
>Dancer::Session</a> class.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="USAGE"
>USAGE</a></h1>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Configuration"
>Configuration</a></h2>

<p>The session engine must be first enabled in the environment settings,
this can be done like the following:</p>

<p>In the application code:</p>

<pre>    # enabling the YAML-file-based session engine
    set session =&#62; &#39;YAML&#39;;</pre>

<p>Or in config.yml or environments/$env.yml</p>

<pre>    session: &#34;YAML&#34;</pre>

<p>By default sessions are disabled, you must enable them before using it. If the session engine is disabled, any Dancer::Session call will throw an exception.</p>

<p>See <a href="../../Dancer/Session/Abstract.html#Configuration" class="podlinkpod"
>&#34;Configuration&#34; in Dancer::Session::Abstract</a> for more configuration options.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Route_Handlers"
>Route Handlers</a></h2>

<p>When enabled, the session engine can be used in a route handler with the keyword <b>session</b>. This keyword allows you to store/retrieve values from the session by name.</p>

<p>Storing a value into the session:</p>

<pre>    session foo =&#62; &#39;bar&#39;;</pre>

<p>Retrieving that value later:</p>

<pre>    my $foo = session &#39;foo&#39;;</pre>

<p>You can either look for an existing item in the session storage or modify one. Here is a simple example of two route handlers that implement basic <code>/login</code> and <code>/home</code> actions using the session engine.</p>

<pre>    post &#39;/login&#39; =&#62; sub {
        # look for params and authenticate the user
        # ...
        if ($user) {
            session user_id =&#62; $user-&#62;id;
        }
    };

    get &#39;/home&#39; =&#62; sub {
        # if a user is present in the session, let him go, otherwise redirect to
        # /login
        if (not session(&#39;user_id&#39;)) {
            redirect &#39;/login&#39;;
        a
    };</pre>

<p>Of course, you probably don&#39;t want to have to duplicate the code to check whether the user is logged in for each route handler; there&#39;s an example in the <a href="../../Dancer/Cookbook.html" class="podlinkpod"
>Dancer::Cookbook</a> showing how to use a before filter to check whether the user is logged in before all requests, and redirect to a login page if not.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SUPPORTED_ENGINES"
>SUPPORTED ENGINES</a></h1>

<p>Dancer has a modular session engine that makes implementing new session backends pretty easy. If you&#39;d like to write your own, feel free to take a look at <a href="../../Dancer/Session/Abstract.html" class="podlinkpod"
>Dancer::Session::Abstract</a>.</p>

<p>The following engines are supported out-of-the-box (shipped with the core Dancer distribution):</p>

<dl>
<dt><a name="Dancer::Session::YAML"
><a href="../../Dancer/Session/YAML.html" class="podlinkpod"
>Dancer::Session::YAML</a></a></dt>

<dd>
<p>A YAML file-based session backend, pretty convenient for development purposes, but maybe not the best for production needs.</p>

<dt><a name="Dancer::Session::Simple"
><a href="../../Dancer/Session/Simple.html" class="podlinkpod"
>Dancer::Session::Simple</a></a></dt>

<dd>
<p>A very simple session backend, holding all session data in memory. This means that sessions are volatile, and no longer exist when the process exits. This module is likely to be most useful for testing purposes, and of little use for production.</p>
</dd>
</dl>

<p>Additionally, many more session engines are available from CPAN, including:</p>

<dl>
<dt><a name="Dancer::Session::Memcached"
><a href="../../Dancer/Session/Memcached.html" class="podlinkpod"
>Dancer::Session::Memcached</a></a></dt>

<dd>
<p>Session are stored in Memcached servers. This is good for production matters and is a good way to use a fast, distributed session storage. If you may be scaling up to add additional servers later, this will be a good choice.</p>

<dt><a name="Dancer::Session::Cookie"
><a href="../../Dancer/Session/Cookie.html" class="podlinkpod"
>Dancer::Session::Cookie</a></a></dt>

<dd>
<p>This module implements a session engine for sessions stored entirely inside encrypted cookies (this engine doesn&#39;t use a server-side storage).</p>

<dt><a name="Dancer::Session::Storable"
><a href="../../Dancer/Session/Storable.html" class="podlinkpod"
>Dancer::Session::Storable</a></a></dt>

<dd>
<p>This backend stores sessions on disc using Storable, which offers solid performance and reliable serialisation of various data structures.</p>

<dt><a name="Dancer::Session::MongoDB"
><a href="../../Dancer/Session/MongoDB.html" class="podlinkpod"
>Dancer::Session::MongoDB</a></a></dt>

<dd>
<p>A backend to store sessions using <a href="../../MongoDB.html" class="podlinkpod"
>MongoDB</a></p>

<dt><a name="Dancer::Session::KiokuDB"
><a href="../../Dancer/Session/KiokuDB.html" class="podlinkpod"
>Dancer::Session::KiokuDB</a></a></dt>

<dd>
<p>A backend to store sessions using <a href="../../KiokuDB.html" class="podlinkpod"
>KiokuDB</a></p>

<dt><a name="Dancer::Session::PSGI"
><a href="../../Dancer/Session/PSGI.html" class="podlinkpod"
>Dancer::Session::PSGI</a></a></dt>

<dd>
<p>Let Plack::Middleware::Session handle sessions; may be useful to share sessions between a Dancer app and other Plack-based apps.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DEPENDENCY"
>DEPENDENCY</a></h1>

<p>Dancer::Session may depend on third-party modules, depending on the session engine used. See the session engine module for details.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHORS"
>AUTHORS</a></h1>

<p>This module has been written by Alexis Sukrieh. See the AUTHORS file that comes with this distribution for details.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="LICENSE"
>LICENSE</a></h1>

<p>This module is free software and is released under the same terms as Perl itself.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SEE_ALSO"
>SEE ALSO</a></h1>

<p>See <a href="../../Dancer.html" class="podlinkpod"
>Dancer</a> for details about the complete framework.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
