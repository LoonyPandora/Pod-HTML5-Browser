<html><head><title>Dancer::Template::Abstract</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.22,
  using Pod::Simple::PullParser v3.22,
  under Perl v5.014001 at Sun Jun 24 19:07:14 2012 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <li class='indexItem indexItem1'><a href='#TEMPLATE_TOKENS'>TEMPLATE TOKENS</a>
  <li class='indexItem indexItem1'><a href='#INTERFACE'>INTERFACE</a>
  <li class='indexItem indexItem1'><a href='#AUTHOR'>AUTHOR</a>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Dancer::Template::Abstract - abstract class for Dancer&#39;s template engines</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This class is provided as a base class for each template engine.
Any template engine must inherit from it and provide a set of methods described below.</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="TEMPLATE_TOKENS"
>TEMPLATE TOKENS</a></h1>

<p>By default Dancer injects some tokens (or variables) to templates.
The available templates are:</p>

<dl>
<dt><a name="perl_version"
><code>perl_version</code></a></dt>

<dd>
<p>The current running Perl version.</p>

<dt><a name="dancer_version"
><code>dancer_version</code></a></dt>

<dd>
<p>The current running Dancer version.</p>

<dt><a name="settings"
><code>settings</code></a></dt>

<dd>
<p>Hash to access current application settings.</p>

<dt><a name="request"
><code>request</code></a></dt>

<dd>
<p>Hash to access your current request.</p>

<dt><a name="params"
><code>params</code></a></dt>

<dd>
<p>Hash to access your request parameters.</p>

<dt><a name="vars"
><code>vars</code></a></dt>

<dd>
<p>Hash to access your defined variables (using <code>vars</code>).</p>

<dt><a name="session"
><code>session</code></a></dt>

<dd>
<p>Hash to access your session (if you have session enabled)</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="INTERFACE"
>INTERFACE</a></h1>

<dl>
<dt><a name="init()"
><b>init()</b></a></dt>

<dd>
<p>The template engine can overload this method if some initialization stuff has to be done before the template engine is used.</p>

<p>The base class provides a plain init() method that only returns true.</p>

<dt><a name="default_tmpl_ext()"
><b>default_tmpl_ext()</b></a></dt>

<dd>
<p>Template class that inherits this class should override this method to return a default template extension,
example: for Template::Toolkit it returns &#34;tt&#34; and for HTML::Mason it returns &#34;mason&#34;.
So when you call <code>template &#39;index&#39;;</code> in your dispatch code,
Dancer will look for a file &#39;index.tt&#39; or &#39;index.mason&#39; based on the template you use.</p>

<p>Note 1: when returning the extension string,
please do not add a dot in front of the extension as Dancer will do that.</p>

<p>Note 2: for backwards compatibility abstract class returns &#34;tt&#34; instead of throwing an exception &#39;method not implemented&#39;.</p>

<p>User would be able to change the default extension using the <code>&#60;extension</code>&#62; configuration variable on the template configuration.
For example,
for the default (<code>Simple</code>) engine:</p>

<pre>     template: &#34;simple&#34;
     engines:
       simple:
         extension: &#39;tmpl&#39;</pre>

<dt><a name="view($view)"
><b>view($view)</b></a></dt>

<dd>
<p>The default behavior of this method is to return the path of the given view, appending the default template extension (either the value of the <code>extension</code> setting in the configuration, or the value returned by <code>default_tmpl_ext</code>) if it is not present in the view name given and no layout template with that exact name existed. (In other words, given a layout name <code>main</code>, if <code>main</code> exists in the layouts dir, it will be used; if not, <code>main.tmpl</code> (where <code>tmpl</code> is the value of the <code>extension</code> setting, or the value returned by <code>default_tmpl_ext</code>) will be looked for.)</p>

<dt><a name="view_exists($view_path)"
><b>view_exists($view_path)</b></a></dt>

<dd>
<p>By default, Dancer::Template::Abstract checks to see if it can find the view file calling <code>view_exists($path_to_file)</code>. If not, it will generate a nice error message for the user.</p>

<p>If you are using extending Dancer::Template::Abstract to use a template system with multiple document roots (like <a href="../../../Text/XSlate.html" class="podlinkpod"
>Text::XSlate</a> or <a href="../../../Template.html" class="podlinkpod"
>Template</a>), you can override this method to always return true, and therefore skip this check.</p>

<dt><a name="layout($layout,_$tokens,_$content)"
><b>layout($layout, $tokens, $content)</b></a></dt>

<dd>
<p>The default behavior of this method is to merge a content with a layout. The layout file is looked for with similar logic as per <code>view</code> - an exact match first, then attempting to append the default template extension, if the view name given did not already end with it.</p>

<dt><a name="render($self,_$template,_$tokens)"
><b>render($self, $template, $tokens)</b></a></dt>

<dd>
<p>This method must be implemented by the template engine. Given a template and a set of tokens, it returns a processed string.</p>

<p>If <code>$template</code> is a reference, it&#39;s assumed to be a reference to a string that contains the template itself. If it&#39;s not a reference, it&#39;s assumed to be the path to template file, as a string. The render method will then have to open it and read its content (Dancer::FileUtils::read_file_content does that job).</p>

<p>This method&#39;s return value must be a string which is the result of the interpolation of <code>$tokens</code> in <code>$template</code>.</p>

<p>If an error occurs, the method should trigger an exception with <code>die()</code>.</p>

<p>Examples :</p>

<pre>    # with a template as a file
    $content = $engine-&#62;render(&#39;/my/template.txt&#39;, { var =&#62; 42 };

    # with a template as a scalar
    my $template = &#34;here is &#60;% var %&#62;&#34;;
    $content = $engine-&#62;render(\$template, { var =&#62; 42 });</pre>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="AUTHOR"
>AUTHOR</a></h1>

<p>This module has been written by Alexis Sukrieh, see <a href="../../../Dancer.html" class="podlinkpod"
>Dancer</a> for details.</p>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
