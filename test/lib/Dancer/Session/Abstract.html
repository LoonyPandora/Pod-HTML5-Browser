<html><head><title>Dancer::Session::Abstract</title>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1" >
<link rel="stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="blkmagw" type="text/css" href="../../../_blkmagw.css" media="all" >
<link rel="alternate stylesheet" title="blkcynw" type="text/css" href="../../../_blkcynw.css" media="all" >
<link rel="alternate stylesheet" title="whtprpk" type="text/css" href="../../../_whtprpk.css" media="all" >
<link rel="alternate stylesheet" title="whtnavk" type="text/css" href="../../../_whtnavk.css" media="all" >
<link rel="alternate stylesheet" title="grygrnk" type="text/css" href="../../../_grygrnk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="blkgrng" type="text/css" href="../../../_blkgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >
<link rel="alternate stylesheet" title="blkbluw" type="text/css" href="../../../_blkbluw.css" media="all" >
<link rel="alternate stylesheet" title="whtpurk" type="text/css" href="../../../_whtpurk.css" media="all" >
<link rel="alternate stylesheet" title="whtgrng" type="text/css" href="../../../_whtgrng.css" media="all" >
<link rel="alternate stylesheet" title="grygrnw" type="text/css" href="../../../_grygrnw.css" media="all" >

<script type="text/javascript" src="../../../_podly.js"></script>

</head>
<body class='pod'>
<!--
  generated by Pod::Simple::HTML v3.22,
  using Pod::Simple::PullParser v3.22,
  under Perl v5.014001 at Sun Jun 24 19:07:14 2012 GMT.

 If you want to change this HTML document, you probably shouldn't do that
   by changing it directly.  Instead, see about changing the calling options
   to Pod::Simple::HTML, and/or subclassing Pod::Simple::HTML,
   then reconverting this document from the Pod source.
   When in doubt, email the author of Pod::Simple::HTML for advice.
   See 'perldoc Pod::Simple::HTML' for more info.

-->

<!-- start doc -->
<p class="backlinktop"><b><a name="___top" href="../../../index.html" accesskey="1" title="All Documents">&lt;&lt;</a></b></p>

<div class='indexgroup'>
<ul   class='indexList indexList1'>
  <li class='indexItem indexItem1'><a href='#NAME'>NAME</a>
  <li class='indexItem indexItem1'><a href='#SPEC'>SPEC</a>
  <li class='indexItem indexItem1'><a href='#DESCRIPTION'>DESCRIPTION</a>
  <ul   class='indexList indexList2'>
    <li class='indexItem indexItem2'><a href='#Configuration'>Configuration</a>
    <ul   class='indexList indexList3'>
      <li class='indexItem indexItem3'><a href='#session_name'>session_name</a>
      <li class='indexItem indexItem3'><a href='#session_domain'>session_domain</a>
      <li class='indexItem indexItem3'><a href='#session_secure'>session_secure</a>
      <li class='indexItem indexItem3'><a href='#session_expires'>session_expires</a>
      <li class='indexItem indexItem3'><a href='#session_is_http_only'>session_is_http_only</a>
    </ul>
    <li class='indexItem indexItem2'><a href='#Abstract_Methods'>Abstract Methods</a>
    <li class='indexItem indexItem2'><a href='#Inherited_Methods'>Inherited Methods</a>
  </ul>
</ul>
</div>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="NAME"
>NAME</a></h1>

<p>Dancer::Session::Abstract - abstract class for session engine</p>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="SPEC"
>SPEC</a></h1>

<dl>
<dt><a name="role"
><b>role</b></a></dt>

<dd>
<p>A Dancer::Session object represents a session engine and should provide anything needed to manipulate a session,
whatever its storing engine is.</p>

<dt><a name="id"
><b>id</b></a></dt>

<dd>
<p>The session id will be written to a cookie,
by default named <code>dancer.session</code>,
it is assumed that a client must accept cookies to be able to use a session-aware Dancer webapp.
(The cookie name can be change using the <code>session_name</code> config setting.)</p>

<dt><a name="storage_engine"
><b>storage engine</b></a></dt>

<dd>
<p>When the session engine is enabled,
a <i>before</i> filter takes care to initialize the appropriate session engine (according to the setting <code>session</code>).</p>

<p>Then,
the filter looks for a cookie named <code>dancer.session</code> (or whatever you&#39;ve set the <code>session_name</code> setting to,
if you&#39;ve used it) in order to <i>retrieve</i> the current session object.
If not found,
a new session object is <i>created</i> and its id written to the cookie.</p>

<p>Whenever a session call is made within a route handler,
the singleton representing the current session object is modified.</p>

<p>After terminating the request,
a <i>flush</i> is made to the session object.</p>
</dd>
</dl>

<h1><a class='u' href='#___top' title='click to go to top of document'
name="DESCRIPTION"
>DESCRIPTION</a></h1>

<p>This virtual class describes how to build a session engine for Dancer.
This is done in order to allow multiple session storage backends with a common interface.</p>

<p>Any session engine must inherit from Dancer::Session::Abstract and implement the following abstract methods.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Configuration"
>Configuration</a></h2>

<p>These settings control how a session acts.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="session_name"
>session_name</a></h3>

<p>The default session name is &#34;dancer_session&#34;.
This can be set in your config file:</p>

<pre>    setting session_name: &#34;mydancer_session&#34;</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="session_domain"
>session_domain</a></h3>

<pre>    Allows you to set the domain property on the cookie, which will
    override the default.  This is useful for setting the session cookie&#39;s
    domain to something like &#39;.domain.com&#39; so that the same cookie will
    be applicable and usable across subdomains of a base domain.</pre>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="session_secure"
>session_secure</a></h3>

<p>The user&#39;s session id is stored in a cookie. If true, this cookie will be made &#34;secure&#34; meaning it will only be served over https.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="session_expires"
>session_expires</a></h3>

<p>When the session should expire. The format is either the number of seconds in the future, or the human readable offset from <a href="../../../Dancer/Cookie.html#expires" class="podlinkpod"
>&#34;expires&#34; in Dancer::Cookie</a>.</p>

<p>By default, there is no expiration.</p>

<h3><a class='u' href='#___top' title='click to go to top of document'
name="session_is_http_only"
>session_is_http_only</a></h3>

<p>This setting defaults to 1 and instructs the session cookie to be created with the <code>HttpOnly</code> option active, meaning that JavaScript will not be able to access to its value.</p>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Abstract_Methods"
>Abstract Methods</a></h2>

<dl>
<dt><a name="retrieve($id)"
><b>retrieve($id)</b></a></dt>

<dd>
<p>Look for a session with the given id, return the session object if found, undef if not.</p>

<dt><a name="create()"
><b>create()</b></a></dt>

<dd>
<p>Create a new session, return the session object.</p>

<dt><a name="flush()"
><b>flush()</b></a></dt>

<dd>
<p>Write the session object to the storage engine.</p>

<dt><a name="destroy()"
><b>destroy()</b></a></dt>

<dd>
<p>Remove the current session object from the storage engine.</p>

<dt><a name="session_name_(optional)"
><b>session_name</b> (optional)</a></dt>

<dd>
<p>Returns a string with the name of cookie used for storing the session ID.</p>

<p>You should probably not override this; the user can control the cookie name using the <code>session_name</code> setting.</p>
</dd>
</dl>

<h2><a class='u' href='#___top' title='click to go to top of document'
name="Inherited_Methods"
>Inherited Methods</a></h2>

<p>The following methods are not supposed to be overloaded, they are generic and should be OK for each session engine.</p>

<dl>
<dt><a name="build_id"
><b>build_id</b></a></dt>

<dd>
<p>Build a new uniq id.</p>

<dt><a name="read_session_id"
><b>read_session_id</b></a></dt>

<dd>
<p>Reads the <code>dancer.session</code> cookie.</p>

<dt><a name="write_session_id"
><b>write_session_id</b></a></dt>

<dd>
<p>Write the current session id to the <code>dancer.session</code> cookie.</p>
</dd>
</dl>
<p class="backlinkbottom"><b><a name="___bottom" href="../../../index.html" title="All Documents">&lt;&lt;</a></b></p>

<!-- end doc -->

</body></html>
